@import 'variables.less';
@import 'mixins.less';
@import 'type.less';

@import 'grid.less';
@import 'nav.less';

/*
  Bootstrap style overrides. Recompiling bootstrap is not happening with these vars so they need
  to be done manually.
*/
@grid-gutter-width: 15px;
@brand-info: #3e5266;

@font-face {
  font-family: "Heuristica";
  src: url("http://chronicle.com/themes/che/fonts/heuristica-regular-webfont.woff");
}
@font-family-serif: Heuristica, serif;

h1,h2,h3,h4,h5,h6,
.h1,.h2,.h3,.h4,.h5,.h6 {
  font-family: @font-family-serif;
}

.main-content-box {
  margin-top: 100px;
}
/*
  Each row is .content-box
*/
.content-box {
  .make-row();
  display: inline-block;
  margin-top: (@grid-gutter-width / 2)
}

/*
  Each .content-box has a .main-body, a .sub-body and .right-rail by default.

  These are set up to be to the left, middle and right. The layout is 6-2.5-3.5. You can see the 3.5 in a media query in the right rail.
*/
.main-body {
  .clearfix();
  .make-md-column(6,0);
}

.sub-body {
  .clearfix();
  .make-md-column(2.5, (@grid-gutter-width / 4));
}
/*
  .right-rail has more going on.

  To make the right rail work at smaller sizes, I divided the "content" in half. This will require some planning to make sure right rail widgets fit correctly, but this makes the right rail work at all sizes.

  At xs, md, and lg, the rail widgets tile on top of each other.
  At sm, they are side-by-side.
*/
.right-rail {
  .make-sm-box(12,1);
  .clearfix();
  background-color: @gray-lighter;

  @media (max-width: @screen-sm-max) {
    margin: @grid-gutter-width (@grid-gutter-width / 2) 0 (@grid-gutter-width / 2);
  }

  @media (min-width: @screen-md) {
    .make-md-column(3.5);
  }

  &__box {
    .make-sm-box(6,1);

    @media (min-width: @screen-md) {
      .make-md-box(12,1);
    }
  }
}

widget {
  display: block;
}

.widget__container {
  padding: @padding-small-vertical @padding-small-horizontal;
  border: 1px solid #000;

  .full-two>&, .full-one>& {
    @media (max-width: @screen-sm-max) {
      height: auto !important;
    }
  }
}

.widget__container, .right-rail__box {
  @media (max-width: @screen-sm-max) {
    margin-top: @grid-gutter-width;
  }

  @media (max-width: @screen-xs-max) {
    height: auto !important;
  }
}

.top>.widget__container {
  @media (min-width: @screen-md) {
    height: 192.5px;
    margin-bottom: (@grid-gutter-width / 2);
  }
}