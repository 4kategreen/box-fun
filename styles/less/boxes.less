@import 'variables.less';
@import 'mixins.less';

@grid-gutter-width: 15px;


body {
  background-color: @gray-lighter;
}
.container {
  background-color: #fff;
}
/*
  Each row is .content-box
*/
.content-box {
  .make-row(0);
  margin: @grid-gutter-width 0;
}

/*
  Each .content-box has a .main-body and .right-rail by default. 

  These are both set up to be to the left and right really shouldn't exist without each
  other, since it's a 9-3 layout. Both get a clearfix to handle any silliness when they
  get down to the smallest sizes.
*/
.main-body {
  .clearfix();
  .make-md-column(9,0);
  color: black;
}
/*
  .right-rail has more going on. 

  To make the right rail work at smaller sizes, I divided the "content" in half. This will require some planning to make sure right rail widgets fit correctly, but this makes the right rail work at all sizes.

  At xs, md, and lg, the rail widgets tile on top of each other. 
  At sm, they are side-by-side.
*/
.right-rail {
  .make-sm-box(12,4);
  .clearfix();
  color: black;

  &:extend(.widget__container);

  @media (min-width: @screen-sm) and (max-width: @screen-sm-max) {
    margin-top: @grid-gutter-width;
  }

  @media (min-width: @screen-md) {
    .make-md-box(3,4);
  }

  &__box {
    .make-sm-box(6,4);

    @media (min-width: @screen-md) {
      .make-md-box(12,4);
    }
  }
}

/*
  Widget Boxes

  Where the content goes.

  2 x 2: big box
  1 x 2: tall
  2 x 1: wide
  1 x.5: small and wide
*/
.make-sm-box(@w:4,@h:2) {
  .make-sm-column(@w);
  color: black;
  &>div {
    height: @h * 50px;
  }
}
.make-md-box(@w:4,@h:2) {
  .make-md-column(@w);
  color: black;
  &>div {
    height: @h * 50px;
  }
}
.two-by-two {
  .make-sm-box(8,8);
}

.one-by-two {
  .make-sm-box(4,8);
}

.two-by-one {
  .make-sm-box(8,4);
}

.one-by-one {
  .make-sm-box(4,4);
}

.one-by-half {
  .make-sm-box(4,2);
}

.widget__container {
  .box-shadow(0 0 4px 2px @gray);

  @media (max-width: @screen-xs-max) {
    height: auto !important;
  }
}

.top>.widget__container {
  height: 185px;
  margin-bottom: @grid-gutter-width;
}